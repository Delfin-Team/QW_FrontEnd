<!DOCTYPE html>
<html>
<head>
  <!-- Compiled and minified CSS -->
  <link rel="stylesheet" href="../css/materialize.min.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <meta charset="utf-8">  
  
  <title>Pregunta de la semana</title>

</head>
<body>
  <div class="conatainer" id="main">
    
    <header>
      <mynavbar></mynavbar>
    </header>
    <pre>
      {{question.user}}
    </pre>
    <!--question card-->
    <div class="container blue lighten-5 z-depth-3" >
    <h4 class="indigo center-align"><font color="white" id="titleQuestion" ></font></h4>
    <div class="container border-radius: 10px" id="cardQuestion">
      <div class="row">
        <div class="col s9 offset s3">
          <!--Materialize Components Forms-->
          <div class="row">
            <form class="col s12">

              <div class="row">
                <h5 id="qCreator"><i class="material-icons">face</i>  Creador: {{ question.user.name }} - {{ question.user.email}}</h5>
                <h5 id="created"><i class="material-icons">schedule</i> Creado: {{ question.created_at}}</h5>
                <h5 id="totalVotes"><i class="material-icons">star</i> Votos: {{ question.votes}}</h5>
              </div>

              <div class="row">
                <hr>
                <div class="input-field col s12">
                  <button class="btn btn-waves" id="btnQuestion" name="">Responder</button>
                  <br>
                  <br>
                  <h6><a href="graphicsquestion.html"><i class="material-icons">show_chart</i> Ver votos</a></h6>
                </div>
              </div>

            </form>
          </div>
        </div>
      </div>
    </div>

  <!--answers-->
  <div id="answersList">

      <h5 class="indigo center-align"><font color="white">Elige una respuesta</font></h5>
      <div class="container">
        <div class="row">
          <div class="col s6 offset s3">
            <!--Materialize Components Forms-->
            <div class="row">
              <form class="col s12">
                {{question.answers}}
                    <p v-for="answer in question.answers">
                      <input name="group1" type="radio" v-bind:id="answer.id" />
                      <label v-bind:for="answer.id" >{{answer.description}}</label>
                    </p>
                <div class="row">
                  <span class="col s3 offset s7">
                    <button class="btn waves-effect waves-light z-depth-5" type="submit" name="action">Enviar&nbsp </button>
                  </span>
                </div>

              </form>
            </div>
          </div>
        </div>
      </div>

  </div>
  <!--end-->


  </div>
    <!--end question card-->
  </div>
  <BR>
  <div class="center-align ">
    <h1><font color="#b71c1c">Pregunta de la semana</font></h1>
  </div>

  



  <hr>

    <div id="loadProposedQuestions" >
      <ul class="collection with-header">
        <li class="collection-header"><h4>Preguntas propuestas</h4></li>
        <div id="addToList">

        </div>
      </ul>
    </div>
  <!---->
  <script type="text/javascript" src="https://unpkg.com/vue@2.4.1"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.16.2/axios.min.js"></script>
  <script type="text/javascript" src="../js/app.js"></script>
  <!--jQuery before JS-->
  <script src="../js/jquery.min.js"></script>
  <!-- Compiled and minified JavaScript -->
  <script src="../js/materialize.min.js"></script>
  <script>
    new Vue({
          el: "#main",
          created: function(){
            this.getQuestionWeek();
          },
          data: {
            question: [],

          },
          methods:{
            getQuestionWeek: function(){
              var apiURl = "http://198.199.80.27/api/questionweek";
              axios.get(apiURl).then(response => {
                this.question = response.data.question;
                console.log(this.question);
              });
            }
          }
        });

  </script>

</body>
</html>
