<!DOCTYPE html>
<html>
<head>
	<!-- Compiled and minified CSS -->
  <link rel="stylesheet" href="../css/materialize.min.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <meta charset="utf-8">

  <title>Pregunta de la semana</title>
</head>
<body>
    <div class="container" id="main">
	  	<div class="center-align ">
	        <h1><font color="#b71c1c">Pregunta de la semana</font></h1>
	    </div>
	   <!--container-->
		<div class="container blue lighten-5 z-depth-3" >
		   <h4 class="indigo center-align"><font color="white" id="titleQuestion" ></font></h4>
		    <div class="container border-radius: 10px" id="cardQuestion">
		      <div class="row">
		        <div class="col s9 offset s3">
		          <!--Materialize Components Forms-->
		          <div class="row">
		            <form class="col s12">

		              <div class="row">
		                <h5 id="qCreator"><i class="material-icons">face</i>  Creador: {{questionWeek.user}}</h5>
		                <h5 id="created"><i class="material-icons">schedule</i> Creado: {{ questionWeek.created_at}}</h5>
		                <h5 id="totalVotes"><i class="material-icons">star</i> Votos: {{ questionWeek.votes}}</h5>
		              </div>

		              <div class="row">
		                <hr>
		                <div class="input-field col s12">
		                  <!-- Modal Trigger -->
		                  <a class="waves-effect waves-light btn modal-trigger" href="#modal1">Responder</a>
		                  	  	<!--answers-->
								 	<div id="answersList">
								 	  <!-- Modal Structure -->
									  <div id="modal1" class="modal">
									    <div class="modal-content">
									      <h4>Elije una respuesta</h4>
									          <p>
											    <input class="with-gap" name="group3" type="radio" id="test1" checked />
											    <label for="test1">res 1</label>
											  </p>
											  <p>
											    <input class="with-gap" name="group3" type="radio" id="test2" checked />
											    <label for="test2">res 2</label>
											  </p>
											  <p>
											    <input class="with-gap" name="group3" type="radio" id="test3" checked />
											    <label for="test3">res 3</label>
											  </p>
												   
									    </div>
									    <div class="modal-footer">
									      <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">enviar</a>
									    </div>
									  </div>
									</div>
							  	<!--end-->
		                  <br>
		                  <br>
		                  <h6><a href="graphicsquestion.html"><i class="material-icons">show_chart</i> Ver votos</a></h6>
		                </div>
		              </div>

		            </form>
		          </div>
		        </div>
		      </div>
		    </div>
		</div>
	      <!--Preguntas propuestas-->
	      <h1>Preguntas propuestas</h1>
	      <div class="carousel" >
			  <div class="row">
			    <div class="col s12 m6">
				    <div class="carousel-item">
					  <div class="card">
				        <div class="card-image">
				          <img src="https://lorempixel.com/250/250/nature/1">
				          <span class="card-title">{{questions.title}}</span>
				          <a class="btn-floating halfway-fab waves-effect waves-light red"><i class="material-icons">thumb_up</i></a>
				        </div>
				        <div class="card-content">
				          <p>Votos: {{questions.votes}}</p>
			             
				        </div>
				     </div>
				    </div>
				    <div class="carousel-item">
					  <div class="card">
				        <div class="card-image">
				          <img src="https://lorempixel.com/250/250/nature/1">
				          <span class="card-title">Pregunta 2</span>
				          <a class="btn-floating halfway-fab waves-effect waves-light red"><i class="material-icons">thumb_up</i></a>
				        </div>
				        <div class="card-content">
				          <p>Descripcion</p>
				          <p>Creador:</p>
			              <p>Creado:</p>
			              <p>votos hasta ahora:</p>
				        </div>
				     </div>
				    </div>
			    </div>
			  </div>
		  </div>
    </div>

		<!-- vue --> 
      <script type="text/javascript" src="https://unpkg.com/vue@2.4.1"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.16.2/axios.min.js"></script>
      <script type="text/javascript">
     
       new Vue({
          el: "#main",
          created: function(){
          	this.getquestionWeek();
            this.getQuestions();
            this.getAnswers();
            
          },
          data: {
          	questionWeek: [],
            questions: [],
            answers: [],
            
          },
          methods:{
            getquestionWeek: function(){
              var apiURl = "http://198.199.80.27/api/questionweek";
              axios.get(apiURl).then(response => {
                this.questionWeek = response.data.questionWeek;
                console.log(this.questionweek);
              });
            },
            getQuestions: function(){
              var apiURl = "http://198.199.80.27/api/questions";
              axios.get(apiURl).then(response => {
                this.question = response.data.questions;
                console.log(this.questions);
              });
            },
            getAnswers: function(){
              var apiURl = "http://198.199.80.27/api/answers";
              axios.get(apiURl).then(response => {
                this.answers = response.data.answers;
                console.log(this.answers);
              });
            },
            
          }
        });
      </script>
      <!--Import jQuery before materialize.js-->
      <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
      <script type="text/javascript" src="../js/materialize.min.js"></script>
      <script type="text/javascript">
      $(document).ready(function()    {
          $('#loadHere').load('navbarlanding.html');
          $('.modal').modal();
           $('.carousel').carousel();
      })
      </script>
</body>
</html>
